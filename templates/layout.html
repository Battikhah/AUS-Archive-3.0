<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>{% block title %}AUS Archive{% endblock %}</title>
		<!-- Favicon -->
		<link rel="icon" type="image/png" href="{{ url_for('static', filename='favicon.png') }}" />
		<!-- Google Fonts -->
		<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet" />
		<!-- Font Awesome -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
		<!-- Select2 for better dropdowns -->
		<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
		<!-- Custom CSS -->
		<link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}" />
		<!-- Google Adsense -->
		<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2132314938985877" crossorigin="anonymous"></script>
		{% block additional_head %}{% endblock %}
	</head>
	<body>
		<div class="wrapper">
			<nav class="main-nav">
				<div class="navbar">
					<a href="{{ url_for('main.index') }}" class="navbar-brand"> <i class="fas fa-archive"></i> AUS Archive </a>
					<ul class="navbar-nav">
						<li class="nav-item">
							<a href="{{ url_for('main.index') }}" class="nav-link {% if request.path == url_for('main.index') %}active{% endif %}"> <i class="fas fa-home"></i> Home </a>
						</li>
						<li class="nav-item">
							<a href="{{ url_for('files.upload_file') }}" class="nav-link {% if request.path == url_for('files.upload_file') %}active{% endif %}">
								<i class="fas fa-upload"></i> Upload
							</a>
						</li>
						<li class="nav-item">
							<a href="{{ url_for('files.search') }}" class="nav-link {% if request.path == url_for('files.search') %}active{% endif %}"> <i class="fas fa-search"></i> Search </a>
						</li>
						<li class="nav-item">
							<a href="{{ url_for('main.about') }}" class="nav-link {% if request.path == url_for('main.about') %}active{% endif %}"> <i class="fas fa-info-circle"></i> About </a>
						</li>
						<li class="nav-item">
							<a href="{{ url_for('main.contact') }}" class="nav-link {% if request.path == url_for('main.contact') %}active{% endif %}">
								<i class="fas fa-envelope"></i> Contact
							</a>
						</li>
					</ul>
				</div>
			</nav>

			<div class="container">
				{% if session.get('flash_message') %}
				<div class="alert alert-{{ session.get('flash_category', 'info') }}">{{ session.get('flash_message') }} {% if session.pop('flash_message') %}{% endif %}</div>
				{% endif %} {% block content %}{% endblock %}
			</div>

			<footer>
				<div class="footer-content">
					<p>&copy; {{ current_year }} AUS Archive - All rights reserved</p>
					<div class="footer-links">
						<a href="{{ url_for('main.about') }}" class="footer-link">About</a>
						<a href="{{ url_for('main.contact') }}" class="footer-link">Contact</a>
					</div>
				</div>
			</footer>
		</div>

		<!-- jQuery -->
		<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
		<!-- Select2 -->
		<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
		<!-- Analytics Script -->
		<script src="{{ url_for('static', filename='js/analytics.js') }}"></script>
		<!-- Custom JS -->
		<script>
			$(document).ready(function () {
				// Initialize Select2 Elements
				$("select").select2({
					placeholder: function () {
						return $(this).data("placeholder");
					},
					allowClear: true,
				});

				// Alert auto-close
				setTimeout(function () {
					$(".alert").fadeOut("slow");
				}, 5000);
			});
		</script>
		{% block additional_scripts %}{% endblock %}
	</body>
</html>
